@page "/listbox"

@attribute [RenderModeInteractiveServer(true)]

<h3>Listbox</h3>

<FluentListbox TOption="string" ValueChanged="@(e => listboxValue = e)">
    <FluentOption>This option has no value</FluentOption>
    <FluentOption Value="Item 1" Disabled="true">This option is disabled</FluentOption>
    <FluentOption Value="Item 2">This option has a value</FluentOption>
    <FluentOption Value="Item 3">
        <FluentIcon Value="@(new Icons.Regular.Size16.Folder())" Slot="start" />
        This option has <b>an icon</b>
    </FluentOption>
    <FluentOption Value="Item 4" Selected=true>
        <div style="display:flex; flex-direction:row">
            <img style="width:20px" src="_content/FluentUI.Demo.Shared/flags/nl.svg" />This option is selected by default
        </div>
    </FluentOption>
</FluentListbox>

<p>Selected: @listboxValue</p>

<h4>From a List of Option&lt;string&gt; items</h4>
<p>Second item in the list is initially selected through the <code>OptionSelected</code> (Func delegate) parameter.</p>

<FluentListbox Items=@stringOptions
               OptionText="@(i => i.Text)"
               OptionValue="@(i => i.Value)"
               OptionSelected="@(i => i.Selected)"
               @bind-Value="@stringValue" />
<p>
    Selected Value: @stringValue<br />
</p>

<h4>From List of Option&lt;int&gt; items</h4>
<p>First item in the list is disabled through the <code>OptionDisabled</code> (Func delegate) parameter.</p>
<p><em>Note that none of the options is initially highlighted or selected.</em></p>

<FluentListbox Items=@intOptions
               TOption="Option<int>"
               OptionText="@(i => i.Text.ToString())"
               OptionValue="@(i => i.Value.ToString())"
               OptionDisabled="@(i => i.Disabled)"
               @bind-SelectedOption="@selectedIntOption"
               @bind-Value="@intValue" />
<p>
    Selected Value: @intValue<br />
    Selected Item (strongly typed): <br />
    Value: @selectedIntOption?.Value (Type: @(selectedIntOption?.Value.GetType())) <br />
    Text: @selectedIntOption?.Text
</p>

<h3>Long list</h3>

<FluentListbox ValueChanged="@(e => listboxValue2 = e)" TOption="string">
    <FluentOption Value="AL">Alabama</FluentOption>
    <FluentOption Value="AK">Alaska</FluentOption>
    <FluentOption Value="AZ">Arizona</FluentOption>
    <FluentOption Value="AR">Arkansas</FluentOption>
    <FluentOption Value="CA">California</FluentOption>
    <FluentOption Value="CO">Colorado</FluentOption>
    <FluentOption Value="CT">Connecticut</FluentOption>
    <FluentOption Value="DE">Delaware</FluentOption>
    <FluentOption Value="FL">Florida</FluentOption>
    <FluentOption Value="GA">Georgia</FluentOption>
    <FluentOption Value="HI">Hawaii</FluentOption>
    <FluentOption Value="ID">Idaho</FluentOption>
    <FluentOption Value="IL">Illinois</FluentOption>
    <FluentOption Value="IN">Indiana</FluentOption>
    <FluentOption Value="IA">Iowa</FluentOption>
    <FluentOption Value="KS">Kansas</FluentOption>
    <FluentOption Value="KY">Kentucky</FluentOption>
    <FluentOption Value="LA">Louisiana</FluentOption>
    <FluentOption Value="ME">Maine</FluentOption>
    <FluentOption Value="MD">Maryland</FluentOption>
    <FluentOption Value="MA">Massachussets</FluentOption>
    <FluentOption Value="MI">Michigain</FluentOption>
    <FluentOption Value="MN">Minnesota</FluentOption>
    <FluentOption Value="MS">Mississippi</FluentOption>
    <FluentOption Value="MO">Missouri</FluentOption>
    <FluentOption Value="MT">Montana</FluentOption>
    <FluentOption Value="NE">Nebraska</FluentOption>
    <FluentOption Value="NV">Nevada</FluentOption>
    <FluentOption Value="NH">New Hampshire</FluentOption>
    <FluentOption Value="NJ">New Jersey</FluentOption>
    <FluentOption Value="NM">New Mexico</FluentOption>
    <FluentOption Value="NY">New York</FluentOption>
    <FluentOption Value="NC">North Carolina</FluentOption>
    <FluentOption Value="ND">North Dakota</FluentOption>
    <FluentOption Value="OH">Ohio</FluentOption>
    <FluentOption Value="OK">Oklahoma</FluentOption>
    <FluentOption Value="OR">Oregon</FluentOption>
    <FluentOption Value="PA">Pennsylvania</FluentOption>
    <FluentOption Value="RI">Rhode Island</FluentOption>
    <FluentOption Value="SC">South Carolina</FluentOption>
    <FluentOption Value="SD">South Dakota</FluentOption>
    <FluentOption Value="TX">Texas</FluentOption>
    <FluentOption Value="TN">Tennessee</FluentOption>
    <FluentOption Value="UT">Utah</FluentOption>
    <FluentOption Value="VT">Vermont</FluentOption>
    <FluentOption Value="VA">Virginia</FluentOption>
    <FluentOption Value="WA">Washington</FluentOption>
    <FluentOption Value="WI">Wisconsin</FluentOption>
    <FluentOption Value="WV">West Virginia</FluentOption>
    <FluentOption Value="WY">Wyoming</FluentOption>
</FluentListbox>
<p>
    Selected value: @listboxValue2
</p>


<FluentListbox ValueChanged="@(e => listboxValue3 = e)" Height="300px" TOption="string" Width="15rem">
    <FluentOption Value="AL">Alabama</FluentOption>
    <FluentOption Value="AK">Alaska</FluentOption>
    <FluentOption Value="AZ">Arizona</FluentOption>
    <FluentOption Value="AR">Arkansas</FluentOption>
    <FluentOption Value="CA">California</FluentOption>
    <FluentOption Value="CO">Colorado</FluentOption>
    <FluentOption Value="CT">Connecticut</FluentOption>
    <FluentOption Value="DE">Delaware</FluentOption>
    <FluentOption Value="FL">Florida</FluentOption>
    <FluentOption Value="GA">Georgia</FluentOption>
    <FluentOption Value="HI">Hawaii</FluentOption>
    <FluentOption Value="ID">Idaho</FluentOption>
    <FluentOption Value="IL">Illinois</FluentOption>
    <FluentOption Value="IN">Indiana</FluentOption>
    <FluentOption Value="IA">Iowa</FluentOption>
    <FluentOption Value="KS">Kansas</FluentOption>
    <FluentOption Value="KY">Kentucky</FluentOption>
    <FluentOption Value="LA">Louisiana</FluentOption>
    <FluentOption Value="ME">Maine</FluentOption>
    <FluentOption Value="MD">Maryland</FluentOption>
    <FluentOption Value="MA">Massachussets</FluentOption>
    <FluentOption Value="MI">Michigain</FluentOption>
    <FluentOption Value="MN">Minnesota</FluentOption>
    <FluentOption Value="MS">Mississippi</FluentOption>
    <FluentOption Value="MO">Missouri</FluentOption>
    <FluentOption Value="MT">Montana</FluentOption>
    <FluentOption Value="NE">Nebraska</FluentOption>
    <FluentOption Value="NV">Nevada</FluentOption>
    <FluentOption Value="NH">New Hampshire</FluentOption>
    <FluentOption Value="NJ">New Jersey</FluentOption>
    <FluentOption Value="NM">New Mexico</FluentOption>
    <FluentOption Value="NY">New York</FluentOption>
    <FluentOption Value="NC">North Carolina</FluentOption>
    <FluentOption Value="ND">North Dakota</FluentOption>
    <FluentOption Value="OH">Ohio</FluentOption>
    <FluentOption Value="OK">Oklahoma</FluentOption>
    <FluentOption Value="OR">Oregon</FluentOption>
    <FluentOption Value="PA">Pennsylvania</FluentOption>
    <FluentOption Value="RI">Rhode Island</FluentOption>
    <FluentOption Value="SC">South Carolina</FluentOption>
    <FluentOption Value="SD">South Dakota</FluentOption>
    <FluentOption Value="TX">Texas</FluentOption>
    <FluentOption Value="TN">Tennessee</FluentOption>
    <FluentOption Value="UT">Utah</FluentOption>
    <FluentOption Value="VT">Vermont</FluentOption>
    <FluentOption Value="VA">Virginia</FluentOption>
    <FluentOption Value="WA">Washington</FluentOption>
    <FluentOption Value="WI">Wisconsin</FluentOption>
    <FluentOption Value="WV">West Virginia</FluentOption>
    <FluentOption Value="WY">Wyoming</FluentOption>
</FluentListbox>

<p>
    Selected value: @listboxValue3
</p>

@code {
    string? listboxValue = "Item 4";
    string? listboxValue2;
    string? listboxValue3;
    string? stringValue;
    string? intValue;
    Option<int>? selectedIntOption;

    List<Option<string>> stringOptions = new()
    {
        { new Option<string> { Value = "1", Text = "One" } },
        { new Option<string> { Value = "2", Text = "Two", Selected = true } },
        { new Option<string> { Value = "3", Text = "Three" } }

    };

    List<Option<int>> intOptions = new()
    {
        { new Option<int> { Value = 1, Text = 1, Disabled = true } },
        { new Option<int> { Value = 2, Text = 2 } },
        { new Option<int> { Value = 3, Text = 3 } }

    };
}

